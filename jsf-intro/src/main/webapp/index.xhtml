<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
    xmlns:p="http://primefaces.org/ui">

<ui:composition template="/template.xhtml">

	<ui:define name="title">
		Título novo
	</ui:define>
	
	<ui:define name="content">
		<h:form>
			<p:dataTable id="tabela" var="aluno" value="#{indexController.listagemDeAlunos}">
			    
			    
			    <p:columnGroup type="header">
		            <p:row>
				    <p:column headerText="Nome">
				    </p:column>
				 
				    <p:column headerText="Professor">
				    </p:column>
		                <p:column headerText="Ações" colspan="2">
					    </p:column>
		            </p:row>
		            
		        </p:columnGroup>
			    
			    <p:column>
			        <h:outputText value="#{aluno.nome}"/>
			    </p:column>
			    <p:column>
			        <h:outputText value="#{aluno.professorDTO.nome}"/>
			    </p:column>
			    <p:column>
			        <p:commandLink ajax="false" value="Alterar"
			        	action="#{cadastroController.initEdicao(aluno.id)}"/>
			    </p:column>
			    <p:column>
			        <p:commandLink ajax="false" value="Excluir"
			        	action="#{indexController.excluir(aluno.id)}"
			        	update="tabela"/>
			    </p:column>
			    
			</p:dataTable>
			
		</h:form>
	</ui:define>
</ui:composition>
</html>